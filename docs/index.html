<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>Laboratório Ev.C.S</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div id="login-container" class="login-container">
    <div class="login-card">
      <div class="login-header">
        <h1>Laboratório Ev.C.S.</h1>
        <h2>Sistema de Calculadora de Compacidade</h2>
      </div>
      <nav class="login-tabs">
        <a href="#" id="tab-login" class="active">Login</a>
        <a href="#" id="tab-register">Registro</a>
        <a href="#" id="tab-recover">Recuperar Senha</a>
      </nav>
      <div class="login-content">
        <form id="login-form" class="login-form">
          <div class="form-group">
            <label for="login-username">Email</label>
            <input type="email" id="login-username" placeholder="Seu email" autocomplete="username" autofocus>
          </div>
          <div class="form-group">
            <label for="login-password">Senha</label>
            <input type="password" id="login-password" placeholder="Sua senha" autocomplete="current-password">
          </div>
          <div class="forgot-link">
            <a href="#" id="forgot-password">Esqueceu a senha?</a>
          </div>
          <button id="login-btn" type="submit">Entrar</button>
        </form>
        <form id="register-form" class="login-form" style="display:none;">
          <div class="form-group">
            <label for="register-username">Email</label>
            <input type="email" id="register-username" placeholder="Seu email" autocomplete="username">
          </div>
          <div class="form-group">
            <label for="register-password">Senha</label>
            <input type="password" id="register-password" placeholder="Sua senha">
          </div>
          <button id="register-btn" type="submit">Registrar</button>
        </form>
        <form id="recover-form" class="login-form" style="display:none;">
          <div class="form-group">
            <label for="recover-username">Email</label>
            <input type="email" id="recover-username" placeholder="Seu email" autocomplete="username">
          </div>
          <div class="form-group">
            <label for="recover-password">Nova Senha</label>
            <input type="password" id="recover-password" placeholder="Nova senha">
          </div>
          <button id="recover-btn" type="submit">Alterar Senha</button>
        </form>
      </div>
      <div class="login-footer">Laboratório Ev.C.S. © 2025 - Todos os direitos reservados</div>
    </div>
  </div>
  <header>
    <button id="toggle-sidebar" class="toggle-sidebar"><i class="fas fa-bars"></i></button>
    <h1>Laboratório Ev.C.S</h1>
  </header>

  <div class="app-container">
    <nav class="sidebar">
      <ul>
        <li><button id="btn-densidade-in-situ" class="sidebar-btn"><i class="fas fa-ruler-vertical"></i> Densidade In Situ</button></li>
        <li><button id="btn-densidade-real" class="sidebar-btn"><i class="fas fa-balance-scale"></i> Densidade Real</button></li>
        <li><button id="btn-densidade-max-min" class="sidebar-btn"><i class="fas fa-balance-scale-left"></i> Densidade Máx/Mín</button></li>
        <li><button id="btn-menu-relatorios" class="sidebar-btn active"><i class="fas fa-file-alt"></i> Relatórios</button></li>
      </ul>
      <button id="logout-btn" class="btn-logout"><i class="fas fa-sign-out-alt"></i> Sair</button>
    </nav>

    <main>
    <!-- Conteúdo principal -->

    <!-- Seção de Lista de Ensaios -->
    <div id="secao-lista-ensaios" style="display: none;">
      <div class="tabs">
        <button class="tab-btn active" data-tab="lista-ensaios">Lista de Ensaios</button>
        <button class="tab-btn" data-tab="calculadora">Calculadora</button>
      </div>

      <div id="lista-ensaios" class="tab-content active">
        <div class="lista-header">
          <h2>Lista de Ensaios</h2>
          <button class="btn-novo-ensaio">Novo Ensaio</button>
        </div>
        <div class="filtros-container">
          <div class="filtro-grupo">
            <label for="filtro-registro">Registro:</label>
            <input type="text" id="filtro-registro" placeholder="Filtrar por registro">
          </div>
          <div class="filtro-grupo">
            <label for="filtro-data">Data:</label>
            <input type="date" id="filtro-data">
          </div>
          <button class="btn-filtro">Filtrar</button>
        </div>
        <div class="lista-registros">
          <!-- Registros serão adicionados dinamicamente -->
        </div>
      </div>

      <div id="calculadora" class="tab-content">
        <!-- Conteúdo da calculadora será carregado dinamicamente -->
      </div>
    </div>
  </main>
  </div><!-- end app-container -->

  <footer>
    <div>© 2025 Laboratório Ev.C.S - Versão 2.0</div>
    <div>
      <a href="privacy-policy.html">Política de Privacidade</a> |
      <a href="terms-of-use.html">Termos de Uso</a>
    </div>
  </footer>

              <label for="hora">Hora:</label>
              <input type="time" id="hora">
            </td>
            <td></td>
          </tr>
        </table>
      </div>

      <!-- Dispositivos -->
      <div class="form-section">
        <h3>Dispositivos</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="balanca">Balança:</label>
            <input type="text" id="balanca" placeholder="Identificação da balança">
          </div>
          <div class="form-group">
            <label for="estufa">Estufa:</label>
            <input type="text" id="estufa" placeholder="Identificação da estufa">
          </div>
        </div>
      </div>

      <!-- Referências -->
      <div class="form-section">
        <h3>Referências</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="registro-densidade-real">Registro de Densidade Real:</label>
            <select id="registro-densidade-real">
              <option value="">Selecione um registro</option>
            </select>
          </div>
          <div class="form-group">
            <label for="registro-densidade-max-min">Registro de Densidade Máx/Mín:</label>
            <select id="registro-densidade-max-min">
              <option value="">Selecione um registro</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Densidade In Situ -->
      <div class="form-section">
        <h3>Densidade In Situ</h3>
        <div class="table-responsive">
          <table class="data-table">
            <thead>
              <tr>
                <th></th>
                <th>Determinação 1</th>
                <th>Determinação 2</th>
              </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Número do Cilindro</td>
                    <td><input type="text" id="numero-cilindro-1" placeholder="Nº"></td>
                    <td><input type="text" id="numero-cilindro-2" placeholder="Nº"></td>
                </tr>
                <tr>
                    <td>Molde + Solo (g)</td>
                    <td><input type="number" id="molde-solo-1" step="0.01" placeholder="0.00"></td>
                    <td><input type="number" id="molde-solo-2" step="0.01" placeholder="0.00"></td>
                </tr>
                <tr>
                    <td>Molde (g)</td>
                    <td><input type="number" id="molde-1" step="0.01" placeholder="0.00"></td>
                    <td><input type="number" id="molde-2" step="0.01" placeholder="0.00"></td>
                </tr>
                <tr>
                    <td>Solo (g)</td>
                    <td><input type="number" id="solo-1" step="0.01" placeholder="0.00" readonly></td>
                    <td><input type="number" id="solo-2" step="0.01" placeholder="0.00" readonly></td>
                </tr>
                <tr>
                    <td>Volume (cm³)</td>
                    <td><input type="number" id="volume-1" step="0.01" placeholder="0.00"></td>
                    <td><input type="number" id="volume-2" step="0.01" placeholder="0.00"></td>
                </tr>
                <tr>
                    <td>γnat (g/cm³)</td>
                    <td><input type="number" id="gama-nat-um-1" step="0.001" placeholder="0.000" readonly></td>
                    <td><input type="number" id="gama-nat-um-2" step="0.001" placeholder="0.000" readonly></td>
                </tr>
                <tr>
                    <td>γs (g/cm³)</td>
                    <td><input type="number" id="gama-nat-1" step="0.001" placeholder="0.000" readonly></td>
                    <td><input type="number" id="gama-nat-2" step="0.001" placeholder="0.000" readonly></td>
                </tr>
            </tbody>
          </table>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="gama-nat-m">γS (g/cm³) Média:</label>
            <input type="number" id="gama-nat-m" step="0.001" placeholder="0.000" readonly>
          </div>
        </div>
      </div>

      <!-- Teor de Umidade Topo -->
      <div class="form-section">
        <h3>Teor de Umidade Topo</h3>
        <div class="table-responsive">
          <table class="data-table">
            <thead>
              <tr>
                <th></th>
                <th>Det. 1</th>
                <th>Det. 2</th>
                <th>Det. 3</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Cápsula Nº</td>
                <td><input type="text" id="capsula-topo-1" placeholder="Nº"></td>
                <td><input type="text" id="capsula-topo-2" placeholder="Nº"></td>
                <td><input type="text" id="capsula-topo-3" placeholder="Nº"></td>
              </tr>
              <tr>
                <td>Solo Úmido + Tara (g)</td>
                <td><input type="number" id="solo-umido-tara-topo-1" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="solo-umido-tara-topo-2" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="solo-umido-tara-topo-3" step="0.01" placeholder="0.00"></td>
              </tr>
              <tr>
                <td>Solo Seco + Tara (g)</td>
                <td><input type="number" id="solo-seco-tara-topo-1" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="solo-seco-tara-topo-2" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="solo-seco-tara-topo-3" step="0.01" placeholder="0.00"></td>
              </tr>
              <tr>
                <td>Tara (g)</td>
                <td><input type="number" id="tara-topo-1" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="tara-topo-2" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="tara-topo-3" step="0.01" placeholder="0.00"></td>
              </tr>
              <tr>
                <td>Solo Seco (g)</td>
                <td><input type="number" id="solo-seco-topo-1" step="0.01" placeholder="0.00" readonly></td>
                <td><input type="number" id="solo-seco-topo-2" step="0.01" placeholder="0.00" readonly></td>
                <td><input type="number" id="solo-seco-topo-3" step="0.01" placeholder="0.00" readonly></td>
              </tr>
              <tr>
                <td>Água (g)</td>
                <td><input type="number" id="agua-topo-1" step="0.01" placeholder="0.00" readonly></td>
                <td><input type="number" id="agua-topo-2" step="0.01" placeholder="0.00" readonly></td>
                <td><input type="number" id="agua-topo-3" step="0.01" placeholder="0.00" readonly></td>
              </tr>
              <tr>
                <td>Umidade (%)</td>
                <td><input type="number" id="umidade-topo-1" step="0.1" placeholder="0.0" readonly></td>
                <td><input type="number" id="umidade-topo-2" step="0.1" placeholder="0.0" readonly></td>
                <td><input type="number" id="umidade-topo-3" step="0.1" placeholder="0.0" readonly></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="umidade-media-topo">Umidade Média (%):</label>
            <input type="number" id="umidade-media-topo" step="0.1" placeholder="0.0" readonly>
          </div>
        </div>
      </div>

      <!-- Teor de Umidade Base -->
      <div class="form-section">
        <h3>Teor de Umidade Base</h3>
        <div class="table-responsive">
          <table class="data-table">
            <thead>
              <tr>
                <th></th>
                <th>Det. 1</th>
                <th>Det. 2</th>
                <th>Det. 3</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Cápsula Nº</td>
                <td><input type="text" id="capsula-base-1" placeholder="Nº"></td>
                <td><input type="text" id="capsula-base-2" placeholder="Nº"></td>
                <td><input type="text" id="capsula-base-3" placeholder="Nº"></td>
              </tr>
              <tr>
                <td>Solo Úmido + Tara (g)</td>
                <td><input type="number" id="solo-umido-tara-base-1" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="solo-umido-tara-base-2" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="solo-umido-tara-base-3" step="0.01" placeholder="0.00"></td>
              </tr>
              <tr>
                <td>Solo Seco + Tara (g)</td>
                <td><input type="number" id="solo-seco-tara-base-1" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="solo-seco-tara-base-2" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="solo-seco-tara-base-3" step="0.01" placeholder="0.00"></td>
              </tr>
              <tr>
                <td>Tara (g)</td>
                <td><input type="number" id="tara-base-1" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="tara-base-2" step="0.01" placeholder="0.00"></td>
                <td><input type="number" id="tara-base-3" step="0.01" placeholder="0.00"></td>
              </tr>
              <tr>
                <td>Solo Seco (g)</td>
                <td><input type="number" id="solo-seco-base-1" step="0.01" placeholder="0.00" readonly></td>
                <td><input type="number" id="solo-seco-base-2" step="0.01" placeholder="0.00" readonly></td>
                <td><input type="number" id="solo-seco-base-3" step="0.01" placeholder="0.00" readonly></td>
              </tr>
              <tr>
                <td>Água (g)</td>
                <td><input type="number" id="agua-base-1" step="0.01" placeholder="0.00" readonly></td>
                <td><input type="number" id="agua-base-2" step="0.01" placeholder="0.00" readonly></td>
                <td><input type="number" id="agua-base-3" step="0.01" placeholder="0.00" readonly></td>
              </tr>
              <tr>
                <td>Umidade (%)</td>
                <td><input type="number" id="umidade-base-1" step="0.1" placeholder="0.0" readonly></td>
                <td><input type="number" id="umidade-base-2" step="0.1" placeholder="0.0" readonly></td>
                <td><input type="number" id="umidade-base-3" step="0.1" placeholder="0.0" readonly></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="umidade-media-base">Umidade Média (%):</label>
            <input type="number" id="umidade-media-base" step="0.1" placeholder="0.0" readonly>
          </div>
        </div>
      </div>

      <!-- Resultados -->
      <div class="form-section">
        <h3>Resultados</h3>
        <div class="table-responsive">
          <table class="data-table">
            <thead>
              <tr>
                <th></th>
                <th>Topo</th>
                <th>Base</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>γd Topo (g/cm³)</td>
                <td><input type="number" id="gamad-topo" step="0.001" placeholder="0.000" readonly></td>
                <td><input type="number" id="gamad-base" step="0.001" placeholder="0.000" readonly></td>
              </tr>
              <tr>
                <td>Índice de Vazios</td>
                <td><input type="number" id="indice-vazios-topo" step="0.01" placeholder="0.00" readonly></td>
                <td><input type="number" id="indice-vazios-base" step="0.01" placeholder="0.00" readonly></td>
              </tr>
              <tr>
                <td>Compacidade Relativa</td>
                <td><input type="number" id="cr-topo" step="0.1" placeholder="0.0" readonly></td>
                <td><input type="number" id="cr-base" step="0.1" placeholder="0.0" readonly></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="form-row">
          <div class="status-container">
            <label>Status:</label>
            <div id="status-ensaio" class="status-ensaio">AGUARDANDO CÁLCULO</div>
          </div>
        </div>
      </div>

      <!-- Ações -->
      <div class="acoes">
        <button type="button" class="btn-salvar">Salvar</button>
        <button type="button" class="btn-gerar-pdf">Gerar PDF</button>
        <button type="button" class="btn-limpar">Limpar</button>
      </div>
    </form>
  </template>

  <!-- DENSIDADE REAL -->

  <!-- DENSIDADE MÁXIMA E MÍNIMA -->  </script>

  <!-- Scripts na ordem correta -->
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script src="js/firebase-init.js"></script>
  <!-- Bibliotecas de geração de PDF -->
  <script src="libs/pdf-lib.min.js"></script>
  <script src="js/db.js"></script>
  <script src="js/validation.js"></script>
  <script src="js/densidade-agua.js"></script>
  <script src="js/calculos.js"></script>
  <script src="js/reference-system.js"></script>
  <script src="js/form-integration.js"></script>
  <script src="js/pdf-generator.js"></script>
  <script src="js/equipamentos.js"></script>
  <script src="js/dados-helper.js"></script>
  <script src="js/api-client.js"></script>
  <script src="js/crypto-helper.js"></script>
  <script src="js/consent-manager.js"></script>
  <script src="js/audit-logger.js"></script>
  <script src="js/secure-backup.js"></script>
  <script src="js/login.js"></script>
  <script src="js/template-loader.js"></script>
  <script>window.calculadora.loadTemplates();</script>
  <script src="js/event-integration.js"></script>
  <script src="js/navigation.js"></script>
  <script src="js/dashboard-menu.js"></script>
  <script src="js/app.js"></script>
  </body>
  </html>
